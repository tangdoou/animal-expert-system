# 动图（WebP视频）使用说明

## 问题说明

项目中有3个 `.webp` 格式的动图（录屏视频）：

1. `forward_reasoning_test.webp` - 正向推理测试过程
2. `backward_reasoning_test.webp` - 反向推理测试过程  
3. `full_backward_test.webp` - 完整反向推理演示

这些动图在网页中可以播放，但在 **LaTeX 转 PDF 时会遇到兼容性问题**。

---

## 解决方案（3个选项）

### 方案 A：使用静态截图替代（推荐）✅

**优点**：简单可靠，LaTeX完全支持  
**缺点**：失去动态演示效果

**做法**：在设计文档中使用已有的高质量静态截图：

```markdown
### 正向推理测试截图

![特征选择](screenshots/02_features_selected.png)

![推理结果 - 虎](screenshots/03_forward_result_tiger.png)

### 反向推理测试截图

![反向推理 - 企鹅验证成功](screenshots/backward_reasoning_penguin_success.png)
```

**我建议用这个方案**，因为文档中已经包含了所有关键截图。

---

### 方案 B：转换为 GIF 格式

**优点**：LaTeX 部分支持，可以展示动态效果  
**缺点**：GIF 文件较大，在 PDF 中可能静态显示

**转换命令**（需安装 ffmpeg）：

```bash
# 安装 ffmpeg（如果没有）
brew install ffmpeg

# 转换 webp 到 gif
ffmpeg -i screenshots/forward_reasoning_test.webp -vf "fps=5,scale=800:-1" screenshots/forward_test.gif
ffmpeg -i screenshots/backward_reasoning_test.webp -vf "fps=5,scale=800:-1" screenshots/backward_test.gif
ffmpeg -i screenshots/full_backward_test.webp -vf "fps=5,scale=800:-1" screenshots/full_backward.gif
```

参数说明：
- `fps=5`：降低帧率到5帧/秒（减小文件大小）
- `scale=800:-1`：缩放到宽度800px（保持比例）

---

### 方案 C：提供在线链接

**优点**：保留完整动态效果  
**缺点**：需要上传到 GitHub，PDF 中无法直接查看

**做法**：

1. 将 webp 文件上传到 GitHub 仓库
2. 在文档中提供链接

```markdown
### 推理过程演示视频

完整演示视频请访问 GitHub 仓库：

- [正向推理演示](https://github.com/tangdoou/animal-expert-system/blob/main/screenshots/forward_reasoning_test.webp)
- [反向推理演示](https://github.com/tangdoou/animal-expert-system/blob/main/screenshots/backward_reasoning_test.webp)
```

---

## 我的建议

### 对于课程作业提交

**推荐使用方案 A（静态截图）**，原因：

1. ✅ **LaTeX 完全兼容**：PNG 格式无任何问题
2. ✅ **文件大小合理**：不会让 PDF 过大
3. ✅ **印刷友好**：纸质版清晰可读
4. ✅ **已经足够**：静态截图已经能够完整展示功能

### 设计文档中的处理

我已经在文档的"测试验证"章节使用了静态截图，不需要额外修改。

如果老师要求看**动态演示**，可以：
- 在答辩时现场演示系统
- 提供 GitHub 仓库链接供在线查看

---

## LaTeX 转 PDF 注意事项

### 图片路径问题

如果使用 Pandoc + LaTeX 转 PDF，需要确保：

1. **使用相对路径**：
   ```markdown
   ![首页](screenshots/01_homepage.png)
   ```

2. **或使用绝对路径**（Pandoc 会自动处理）：
   ```markdown
   ![首页](/Users/Apple/Downloads/专家系统/screenshots/01_homepage.png)
   ```

### 推荐的转换命令

```bash
# 方法 1: 使用 Pandoc（推荐）
pandoc 设计说明文档.md -o 设计说明文档.pdf \
  --pdf-engine=xelatex \
  -V CJKmainfont="Songti SC" \
  -V geometry:margin=2.5cm \
  --number-sections \
  --toc

# 方法 2: 如果有 LaTeX 环境
pandoc 设计说明文档.md -o 设计说明文档.tex
xelatex 设计说明文档.tex
```

参数说明：
- `--pdf-engine=xelatex`：支持中文
- `-V CJKmainfont="Songti SC"`：使用宋体（Mac自带）
- `--number-sections`：自动编号章节
- `--toc`：生成目录

### 如果遇到中文字体问题

```bash
# 查看可用中文字体
fc-list :lang=zh

# 使用其他字体（如黑体）
pandoc 设计说明文档.md -o 设计说明文档.pdf \
  --pdf-engine=xelatex \
  -V CJKmainfont="Heiti SC"
```

---

## 总结

✅ **当前文档状态**：已针对 LaTeX 转 PDF 优化，使用静态截图  
✅ **动图处理**：不影响提交，可在 GitHub 上保留作为演示  
✅ **个人信息**：已添加（唐一璇，2022101068）  
✅ **准备就绪**：可以直接转 PDF 提交
